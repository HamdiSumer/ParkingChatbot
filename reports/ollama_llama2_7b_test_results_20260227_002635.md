# RAG System Test Report

## Test Run Information

| Property | Value |
|----------|-------|
| **Date** | 2026-02-27 00:26:35 |
| **LLM Provider** | ollama |
| **LLM Model** | llama2:7b |
| **Embedding Model** | all-MiniLM-L6-v2 |
| **Duration** | 115.8s |

## Test Summary

**Overall: ✅ 7/7 tests passed**

| Test | Status |
|------|--------|
| Guardrails | ✅ PASSED |
| RAG Metrics | ✅ PASSED |
| Recall@K | ✅ PASSED |
| Components | ✅ PASSED |
| Hybrid Retrieval | ✅ PASSED |
| E2E Workflow | ✅ PASSED |
| Data Architecture | ✅ PASSED |

## Detailed Results

### Guardrails

**Metrics:**

| Metric | Value |
|--------|-------|
| Detection Rate (%) | 100.00 |

**Test Cases:**

| Test Case | Expected | Result | Status |
|-----------|----------|--------|--------|
| Safe query | Safe | Safe | ✅ |
| Credit card | Blocked | Blocked | ✅ |
| Phone number | Blocked | Blocked | ✅ |
| Email | Blocked | Blocked | ✅ |
| SSN | Blocked | Blocked | ✅ |
| Password | Blocked | Blocked | ✅ |
| Safe query | Safe | Safe | ✅ |
| Safe query | Safe | Safe | ✅ |
| SQL injection | Blocked | Blocked | ✅ |
| SQL injection attempt | Blocked | Blocked | ✅ |

### RAG Metrics

**Metrics:**

| Metric | Value |
|--------|-------|
| Avg Faithfulness | 1.00 |
| Avg Answer Relevance | 0.63 |
| Avg Context Precision | 1.00 |
| Avg Latency (ms) | 7409.63 |

### Recall@K

**Metrics:**

| Metric | Value |
|--------|-------|
| Recall@1 | 1.00 |
| Avg Relevance@1 | 0.77 |
| Recall@3 | 1.00 |
| Avg Relevance@3 | 0.77 |
| Recall@5 | 1.00 |
| Avg Relevance@5 | 0.77 |

### Components

**Test Cases:**

| Test Case | Expected | Result | Status |
|-----------|----------|--------|--------|
| Embeddings | OK | OK | ✅ |
| Weaviate Vector DB | OK | OK | ✅ |
| SQLite Database | OK | OK | ✅ |
| LLM (Ollama) | OK | OK | ✅ |

### Hybrid Retrieval

**Metrics:**

| Metric | Value |
|--------|-------|
| SQL Query Success Rate (%) | 100.00 |
| SQL Avg Latency (ms) | 2155.95 |
| SQL Data Coverage (%) | 100.00 |
| Hybrid Avg Latency (ms) | 7915.73 |
| Context Completeness | 1.00 |

### E2E Workflow

**Test Cases:**

| Test Case | Expected | Result | Status |
|-----------|----------|--------|--------|
| What parking spaces are available? | info | Pass | ✅ |
| My credit card is 4532-1234-5678-9012 | safety | Pass | ✅ |
| I want to book a parking space | intent | Pass | ✅ |

### Data Architecture

**Notes:** Architecture: Weaviate (static) + SQLite (dynamic) + Guard rails (safety)

---
*Report generated by test_rag.py*